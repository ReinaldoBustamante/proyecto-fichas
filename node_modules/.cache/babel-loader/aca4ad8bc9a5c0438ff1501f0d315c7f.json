{"ast":null,"code":"import _slicedToArray from\"/home/reinaldobustamante/repositorios/info290/Proyecto-gestor-de-fichas-clinicas-frontend-/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import Axios from'axios';//import Swal from 'sweetalert2'\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var Tabla=function Tabla(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),pacientes=_useState2[0],setPacientes=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),carga=_useState4[0],setcarga=_useState4[1];useEffect(function(){Axios.get('https://api-rest-cfedent.herokuapp.com/pacientes').then(function(response){setPacientes(response.data);});},[carga]);var handleOnClick=function handleOnClick(e){Axios.delete(\"https://api-rest-cfedent.herokuapp.com/fichas/\".concat(e.target.value)).then(function(res){if(res.status===200){Axios.delete(\"https://api-rest-cfedent.herokuapp.com/historiales-clinicos/\".concat(e.target.value)).then(function(res){if(res.status===200){Axios.delete(\"https://api-rest-cfedent.herokuapp.com/pacientes/\".concat(e.target.value)).then(function(res){if(res.status===200){console.log(\"se elimino correctamente\");setcarga(carga+1);}});setcarga(carga+1);}});}});};return/*#__PURE__*/_jsx(\"div\",{className:\"mt-5\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Rut\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Nombre\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Domicilio\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Telefono\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:pacientes.map(function(paciente,i){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:paciente.rut}),/*#__PURE__*/_jsx(\"td\",{children:paciente.nombre}),/*#__PURE__*/_jsx(\"td\",{children:paciente.domicilio}),/*#__PURE__*/_jsx(\"td\",{children:paciente.telefono}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-danger\",value:paciente.rut,onClick:handleOnClick,children:\"Eliminar\"})})]},i);})})]})});};","map":{"version":3,"names":["React","useEffect","useState","Axios","Tabla","pacientes","setPacientes","carga","setcarga","get","then","response","data","handleOnClick","e","delete","target","value","res","status","console","log","map","paciente","i","rut","nombre","domicilio","telefono"],"sources":["/home/reinaldobustamante/repositorios/info290/Proyecto-gestor-de-fichas-clinicas-frontend-/src/components/registrosPacientes/Tabla.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport Axios from 'axios'\n//import Swal from 'sweetalert2'\n\nexport const Tabla = () => {\n\n    const [pacientes, setPacientes] = useState([])\n    const [carga, setcarga] = useState(0)\n    useEffect(() => {\n        Axios.get('https://api-rest-cfedent.herokuapp.com/pacientes').then( (response) =>{\n        setPacientes(response.data)\n        })\n    }, [carga])\n    \n    const handleOnClick = (e) => {\n        Axios.delete(`https://api-rest-cfedent.herokuapp.com/fichas/${e.target.value}`)\n        .then(res => {\n            if(res.status === 200){\n                Axios.delete(`https://api-rest-cfedent.herokuapp.com/historiales-clinicos/${e.target.value}`)\n                .then(res => {\n                    if(res.status === 200){\n                        Axios.delete(`https://api-rest-cfedent.herokuapp.com/pacientes/${e.target.value}`)\n                        .then(res => {\n                            if(res.status === 200){\n                                console.log(\"se elimino correctamente\")\n                                setcarga(carga+1)\n                            }\n                        })\n                        setcarga(carga+1)\n                    }\n                })\n            }\n        })\n        \n        \n    }\n\n\n    return (\n        <div className=\"mt-5\">\n            <table className=\"table\">\n                <thead>\n                    <tr>\n                    <th scope=\"col\">Rut</th>\n                    <th scope=\"col\">Nombre</th>\n                    <th scope=\"col\">Domicilio</th>\n                    <th scope=\"col\">Telefono</th>\n                    <th scope=\"col\"></th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {pacientes.map( (paciente, i) => {\n                        return (\n                        \n                            <tr key={i}>\n                                <td >{paciente.rut}</td>\n                                <td >{paciente.nombre}</td>\n                                <td >{paciente.domicilio}</td>\n                                <td>{paciente.telefono}</td>\n                                <td><button type=\"button\" className=\"btn btn-danger\" value={paciente.rut} onClick ={handleOnClick} >Eliminar</button></td>\n                            </tr>\n                            \n                        )\n                        \n                    })}\n                   \n                </tbody>\n            </table>\n        </div>\n    )\n}\n"],"mappings":"gLAAA,MAAOA,MAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA;wFAEA,MAAO,IAAMC,MAAK,CAAG,QAARA,MAAQ,EAAM,CAEvB,cAAkCF,QAAQ,CAAC,EAAD,CAA1C,wCAAOG,SAAP,eAAkBC,YAAlB,eACA,eAA0BJ,QAAQ,CAAC,CAAD,CAAlC,yCAAOK,KAAP,eAAcC,QAAd,eACAP,SAAS,CAAC,UAAM,CACZE,KAAK,CAACM,GAAN,CAAU,kDAAV,EAA8DC,IAA9D,CAAoE,SAACC,QAAD,CAAa,CACjFL,YAAY,CAACK,QAAQ,CAACC,IAAV,CAAZ,CACC,CAFD,EAGH,CAJQ,CAIN,CAACL,KAAD,CAJM,CAAT,CAMA,GAAMM,cAAa,CAAG,QAAhBA,cAAgB,CAACC,CAAD,CAAO,CACzBX,KAAK,CAACY,MAAN,yDAA8DD,CAAC,CAACE,MAAF,CAASC,KAAvE,GACCP,IADD,CACM,SAAAQ,GAAG,CAAI,CACT,GAAGA,GAAG,CAACC,MAAJ,GAAe,GAAlB,CAAsB,CAClBhB,KAAK,CAACY,MAAN,uEAA4ED,CAAC,CAACE,MAAF,CAASC,KAArF,GACCP,IADD,CACM,SAAAQ,GAAG,CAAI,CACT,GAAGA,GAAG,CAACC,MAAJ,GAAe,GAAlB,CAAsB,CAClBhB,KAAK,CAACY,MAAN,4DAAiED,CAAC,CAACE,MAAF,CAASC,KAA1E,GACCP,IADD,CACM,SAAAQ,GAAG,CAAI,CACT,GAAGA,GAAG,CAACC,MAAJ,GAAe,GAAlB,CAAsB,CAClBC,OAAO,CAACC,GAAR,CAAY,0BAAZ,EACAb,QAAQ,CAACD,KAAK,CAAC,CAAP,CAAR,CACH,CACJ,CAND,EAOAC,QAAQ,CAACD,KAAK,CAAC,CAAP,CAAR,CACH,CACJ,CAZD,EAaH,CACJ,CAjBD,EAoBH,CArBD,CAwBA,mBACI,YAAK,SAAS,CAAC,MAAf,uBACI,eAAO,SAAS,CAAC,OAAjB,wBACI,oCACI,mCACA,WAAI,KAAK,CAAC,KAAV,iBADA,cAEA,WAAI,KAAK,CAAC,KAAV,oBAFA,cAGA,WAAI,KAAK,CAAC,KAAV,uBAHA,cAIA,WAAI,KAAK,CAAC,KAAV,sBAJA,cAKA,WAAI,KAAK,CAAC,KAAV,EALA,GADJ,EADJ,cAUI,uBACKF,SAAS,CAACiB,GAAV,CAAe,SAACC,QAAD,CAAWC,CAAX,CAAiB,CAC7B,mBAEI,mCACI,oBAAMD,QAAQ,CAACE,GAAf,EADJ,cAEI,oBAAMF,QAAQ,CAACG,MAAf,EAFJ,cAGI,oBAAMH,QAAQ,CAACI,SAAf,EAHJ,cAII,oBAAKJ,QAAQ,CAACK,QAAd,EAJJ,cAKI,iCAAI,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,gBAAhC,CAAiD,KAAK,CAAEL,QAAQ,CAACE,GAAjE,CAAsE,OAAO,CAAGZ,aAAhF,sBAAJ,EALJ,GAASW,CAAT,CAFJ,CAYH,CAbA,CADL,EAVJ,GADJ,EADJ,CAgCH,CAlEM"},"metadata":{},"sourceType":"module"}