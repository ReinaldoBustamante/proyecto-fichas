{"ast":null,"code":"var _jsxFileName = \"/home/reinaldobustamante/repositorios/info290/Proyecto-gestor-de-fichas-clinicas-frontend-/src/components/registrosPacientes/Tabla.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport Axios from 'axios'; //import Swal from 'sweetalert2'\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Tabla = () => {\n  _s();\n\n  const [pacientes, setPacientes] = useState([]);\n  const [carga, setcarga] = useState(0);\n  useEffect(() => {\n    Axios.get('https://api-rest-cfedent.herokuapp.com/pacientes').then(response => {\n      setPacientes(response.data);\n    });\n  }, [carga]);\n\n  const handleOnClick = e => {\n    Axios.delete(`https://api-rest-cfedent.herokuapp.com/fichas/${e.target.value}`).then(res => {\n      if (res.status === 200) {\n        Axios.delete(`https://api-rest-cfedent.herokuapp.com/historiales-clinicos/${e.target.value}`).then(res => {\n          if (res.status === 200) {\n            Axios.delete(`https://api-rest-cfedent.herokuapp.com/pacientes/${e.target.value}`).then(res => {\n              if (res.status === 200) {\n                console.log(\"se elimino correctamente\");\n                setcarga(carga + 1);\n              }\n            });\n            setcarga(carga + 1);\n          }\n        });\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mt-5\",\n    children: /*#__PURE__*/_jsxDEV(\"table\", {\n      className: \"table\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            scope: \"col\",\n            children: \"Rut\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            scope: \"col\",\n            children: \"Nombre\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            scope: \"col\",\n            children: \"Domicilio\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            scope: \"col\",\n            children: \"Telefono\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            scope: \"col\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: pacientes.map((paciente, i) => {\n          return /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: paciente.rut\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: paciente.nombre\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: paciente.domicilio\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: paciente.telefono\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"btn btn-danger\",\n                value: paciente.rut,\n                onClick: handleOnClick,\n                children: \"Eliminar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 60,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 33\n            }, this)]\n          }, i, true, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 29\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Tabla, \"lHabTk8w7aTzPvHCsGTA2WeQFds=\");\n\n_c = Tabla;\n\nvar _c;\n\n$RefreshReg$(_c, \"Tabla\");","map":{"version":3,"names":["React","useEffect","useState","Axios","Tabla","pacientes","setPacientes","carga","setcarga","get","then","response","data","handleOnClick","e","delete","target","value","res","status","console","log","map","paciente","i","rut","nombre","domicilio","telefono"],"sources":["/home/reinaldobustamante/repositorios/info290/Proyecto-gestor-de-fichas-clinicas-frontend-/src/components/registrosPacientes/Tabla.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport Axios from 'axios'\n//import Swal from 'sweetalert2'\n\nexport const Tabla = () => {\n\n    const [pacientes, setPacientes] = useState([])\n    const [carga, setcarga] = useState(0)\n    useEffect(() => {\n        Axios.get('https://api-rest-cfedent.herokuapp.com/pacientes').then( (response) =>{\n        setPacientes(response.data)\n        })\n    }, [carga])\n    \n    const handleOnClick = (e) => {\n        Axios.delete(`https://api-rest-cfedent.herokuapp.com/fichas/${e.target.value}`)\n        .then(res => {\n            if(res.status === 200){\n                Axios.delete(`https://api-rest-cfedent.herokuapp.com/historiales-clinicos/${e.target.value}`)\n                .then(res => {\n                    if(res.status === 200){\n                        Axios.delete(`https://api-rest-cfedent.herokuapp.com/pacientes/${e.target.value}`)\n                        .then(res => {\n                            if(res.status === 200){\n                                console.log(\"se elimino correctamente\")\n                                setcarga(carga+1)\n                            }\n                        })\n                        setcarga(carga+1)\n                    }\n                })\n            }\n        })\n        \n        \n    }\n\n\n    return (\n        <div className=\"mt-5\">\n            <table className=\"table\">\n                <thead>\n                    <tr>\n                    <th scope=\"col\">Rut</th>\n                    <th scope=\"col\">Nombre</th>\n                    <th scope=\"col\">Domicilio</th>\n                    <th scope=\"col\">Telefono</th>\n                    <th scope=\"col\"></th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {pacientes.map( (paciente, i) => {\n                        return (\n                        \n                            <tr key={i}>\n                                <td >{paciente.rut}</td>\n                                <td >{paciente.nombre}</td>\n                                <td >{paciente.domicilio}</td>\n                                <td>{paciente.telefono}</td>\n                                <td><button type=\"button\" className=\"btn btn-danger\" value={paciente.rut} onClick ={handleOnClick} >Eliminar</button></td>\n                            </tr>\n                            \n                        )\n                        \n                    })}\n                   \n                </tbody>\n            </table>\n        </div>\n    )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}